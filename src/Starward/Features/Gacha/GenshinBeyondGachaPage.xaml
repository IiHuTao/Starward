<?xml version="1.0" encoding="utf-8" ?>
<sf:PageBase x:Class="Starward.Features.Gacha.GenshinBeyondGachaPage"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:cwc="using:CommunityToolkit.WinUI.Controls"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:lang="using:Starward.Language"
             xmlns:local="using:Starward.Features.Gacha"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             xmlns:sc="using:Starward.Controls"
             xmlns:sf="using:Starward.Frameworks"
             x:DefaultBindMode="OneWay"
             mc:Ignorable="d">

    <Page.Resources>
        <SolidColorBrush x:Key="Rarity5ForegroundBrush">#FFA500</SolidColorBrush>
        <SolidColorBrush x:Key="Rarity4ForegroundBrush">#C864E0</SolidColorBrush>
        <SolidColorBrush x:Key="Rarity3ForegroundBrush">#5EAAED</SolidColorBrush>
        <SolidColorBrush x:Key="Rarity2ForegroundBrush">#3BA272</SolidColorBrush>

        <Style BasedOn="{StaticResource BodyTextBlockStyle}" TargetType="TextBlock">
            <Setter Property="VerticalAlignment" Value="Center" />
            <Setter Property="TextWrapping" Value="NoWrap" />
            <Setter Property="TextTrimming" Value="None" />
            <Setter Property="Foreground" Value="{ThemeResource TextFillColorSecondaryBrush}" />
        </Style>

        <local:GenshinBeyondGachaPityProgressBackgroundBrushConverter x:Key="GenshinBeyondGachaPityProgressBackgroundBrushConverter" />
    </Page.Resources>

    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="44" />
            <RowDefinition />
        </Grid.RowDefinitions>


        <TextBlock Margin="24,0,0,0"
                   HorizontalAlignment="Left"
                   VerticalAlignment="Center"
                   FontSize="20"
                   FontWeight="Bold"
                   Text="{x:Bind lang:Lang.GenshinBeyondGachaPage_MiliastraWonderlandOde}" />


        <StackPanel Margin="0,0,24,0"
                    HorizontalAlignment="Right"
                    Orientation="Horizontal"
                    Spacing="16">
            <!--  Uid List  -->
            <ComboBox Name="ComboBox_Uid"
                      MinWidth="140"
                      VerticalAlignment="Center"
                      ItemsSource="{x:Bind UidList}"
                      SelectedItem="{x:Bind SelectUid, Mode=TwoWay}" />
            <!--  Update  -->
            <SplitButton Height="32" Command="{x:Bind UpdateGachaLogCommand}">
                <StackPanel Orientation="Horizontal" Spacing="8">
                    <FontIcon Margin="0,2,0,0"
                              FontSize="14"
                              Glyph="&#xE72C;" />
                    <!--  更新记录  -->
                    <TextBlock Text="{x:Bind lang:Lang.GachaLogPage_UpdateRecords}" />
                </StackPanel>
                <SplitButton.Flyout>
                    <MenuFlyout>
                        <!--  更新 保存的 URL  -->
                        <MenuFlyoutItem Command="{x:Bind UpdateGachaLogCommand}"
                                        CommandParameter="cache"
                                        Text="{x:Bind lang:Lang.GachaLogPage_UpdateSavedURL}" />
                        <!--  更新 全部  -->
                        <MenuFlyoutItem Command="{x:Bind UpdateGachaLogCommand}"
                                        CommandParameter="all"
                                        Text="{x:Bind lang:Lang.GachaLogPage_UpdateAll}" />
                        <!--  输入 URL  -->
                        <MenuFlyoutItem Command="{x:Bind InputUrlCommand}" Text="{x:Bind lang:Lang.GachaLogPage_InputURL}" />
                    </MenuFlyout>
                </SplitButton.Flyout>
            </SplitButton>
            <!--  Setting  -->
            <Button>
                <StackPanel Orientation="Horizontal" Spacing="8">
                    <FontIcon Margin="0,2,0,0"
                              FontSize="14"
                              Glyph="&#xE713;" />
                    <!--  设置  -->
                    <TextBlock Text="{x:Bind lang:Lang.Common_Setting}" />
                </StackPanel>
                <Button.Flyout>
                    <Flyout>
                        <StackPanel MinWidth="200" Spacing="8">
                            <!--  其他设置  -->
                            <TextBlock FontSize="16" Text="{x:Bind lang:Lang.GachaLogPage_OtherSettings}" />

                            <!--  复制 URL  -->
                            <Button Margin="0,8,0,0" Command="{x:Bind CopyUrlCommand}">
                                <StackPanel Orientation="Horizontal" Spacing="8">
                                    <FontIcon Name="FontIcon_CopyUrl"
                                              FontSize="16"
                                              Glyph="&#xE8C8;" />
                                    <TextBlock Text="{x:Bind lang:Lang.GachaLogPage_CopyURL}" />
                                </StackPanel>
                            </Button>

                            <!--  总是出现 Authkey Timeout  -->
                            <TextBlock Margin="0,8,0,0"
                                       Foreground="{ThemeResource TextFillColorSecondaryBrush}"
                                       Text="{x:Bind lang:Lang.GachaLogPage_AuthkeyTimeoutAlwaysOccurs}" />
                            <Button Command="{x:Bind DeleteGachaCacheFileCommand}">
                                <StackPanel Orientation="Horizontal" Spacing="8">
                                    <FontIcon FontSize="16" Glyph="&#xEA99;" />
                                    <!--  清除 URL 缓存文件  -->
                                    <TextBlock Text="{x:Bind lang:Lang.GachaLogPage_ClearURLCacheFiles}" />
                                </StackPanel>
                            </Button>

                            <!--  语言  -->
                            <StackPanel Margin="0,4,0,0"
                                        Orientation="Horizontal"
                                        Spacing="8">
                                <TextBlock Foreground="{ThemeResource TextFillColorSecondaryBrush}" Text="{x:Bind lang:Lang.GachaLogPage_Language}" />
                                <Button Padding="1"
                                        VerticalAlignment="Bottom"
                                        Style="{ThemeResource DateTimePickerFlyoutButtonStyle}">
                                    <FontIcon FontSize="12" Glyph="&#xE9CE;" />
                                    <Button.Flyout>
                                        <Flyout>
                                            <TextBlock Text="{x:Bind lang:Lang.GachaLogPage_GachaLanguageDesc}" />
                                        </Flyout>
                                    </Button.Flyout>
                                </Button>
                            </StackPanel>
                            <TextBox MinWidth="100" Text="{x:Bind GachaLanguage, Mode=TwoWay}" />

                        </StackPanel>
                    </Flyout>
                </Button.Flyout>
            </Button>
        </StackPanel>


        <StackPanel Name="StackPanel_Emoji"
                    Grid.RowSpan="2"
                    HorizontalAlignment="Center"
                    VerticalAlignment="Center"
                    Spacing="16"
                    Visibility="Collapsed">
            <Image Name="Image_Emoji"
                   Width="160"
                   Height="160"
                   Source="ms-appx:///Assets/Image/UI_EmotionIcon5.png" />
            <TextBlock HorizontalAlignment="Center"
                       FontSize="16"
                       Foreground="{ThemeResource TextFillColorSecondaryBrush}"
                       Text="{x:Bind lang:Lang.GachaLogPage_NoGachaRecords}" />
        </StackPanel>


        <ScrollViewer x:Name="ScrollViewer_GachaStats"
                      Grid.Row="1"
                      ScrollViewer.HorizontalScrollBarVisibility="Disabled"
                      ScrollViewer.HorizontalScrollMode="Disabled">
            <Grid x:Name="Grid_GachaStats"
                  Margin="20,0,20,16"
                  ColumnSpacing="12">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition />
                    <ColumnDefinition />
                </Grid.ColumnDefinitions>

                <!--  常驻颂愿  -->
                <Grid Padding="12,8,12,8"
                      Background="{ThemeResource CustomOverlayAcrylicBrush}"
                      CornerRadius="8"
                      RowSpacing="4"
                      Shadow="{ThemeResource ThemeShadow}"
                      Translation="0,0,16"
                      Visibility="{x:Bind GachaStatsType1000, Converter={StaticResource ObjectToVisibilityConverter}}">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto" />
                        <RowDefinition Height="Auto" />
                        <RowDefinition Height="Auto" />
                        <RowDefinition Height="Auto" />
                        <RowDefinition Height="Auto" />
                        <RowDefinition Height="Auto" />
                        <RowDefinition Height="Auto" />
                        <RowDefinition Height="Auto" />
                        <RowDefinition />
                    </Grid.RowDefinitions>

                    <Grid Grid.Row="0" ColumnSpacing="8">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition />
                            <ColumnDefinition Width="Auto" />
                        </Grid.ColumnDefinitions>
                        <TextBlock FontSize="16"
                                   Foreground="{ThemeResource TextFillColorSecondaryBrush}"
                                   Text="{x:Bind GachaStatsType1000.GachaTypeText}"
                                   TextTrimming="CharacterEllipsis" />
                        <TextBlock Grid.Column="1"
                                   FontSize="16"
                                   Foreground="{ThemeResource TextFillColorSecondaryBrush}"
                                   Text="{x:Bind GachaStatsType1000.Count}" />
                    </Grid>


                    <TextBlock Grid.Row="1"
                               FontSize="12"
                               Foreground="{ThemeResource TextFillColorSecondaryBrush}"
                               TextTrimming="CharacterEllipsis">
                        <Run Text="{x:Bind GachaStatsType1000.StartTime.ToString('yyyy/MM/dd HH:mm:ss', x:Null)}" />
                        <Run Text="-" />
                        <Run Text="{x:Bind GachaStatsType1000.EndTime.ToString('yyyy/MM/dd HH:mm:ss', x:Null)}" />
                    </TextBlock>

                    <MenuFlyoutSeparator Grid.Row="2" />

                    <!--  4★ 平均  -->
                    <TextBlock Grid.Row="3" Foreground="{ThemeResource Rarity4ForegroundBrush}">
                        <Run Text="4★" />
                        <Run Text="{x:Bind lang:Lang.GachaStatsCard_Average}" />
                    </TextBlock>
                    <TextBlock Grid.Row="3"
                               HorizontalAlignment="Right"
                               Foreground="{ThemeResource Rarity4ForegroundBrush}">
                        <Run Text="{x:Bind GachaStatsType1000.Average_4.ToString('F2', x:Null)}" />
                    </TextBlock>

                    <!--  4★ 统计  -->
                    <TextBlock Grid.Row="4" Foreground="{ThemeResource Rarity4ForegroundBrush}">
                        <Run Text="4★" />
                        <Run Text="{x:Bind lang:Lang.GachaStatsCard_Stats}" />
                    </TextBlock>
                    <TextBlock Grid.Row="4"
                               HorizontalAlignment="Right"
                               Foreground="{ThemeResource Rarity4ForegroundBrush}"
                               HorizontalTextAlignment="Left">
                        <Run Text="{x:Bind GachaStatsType1000.Count_4}" />
                        <Run Text="[" /><Run Text="{x:Bind GachaStatsType1000.Ratio_4.ToString('P2', x:Null)}" /><Run Text="]" />
                    </TextBlock>

                    <!--  3★ 统计  -->
                    <TextBlock Grid.Row="5" Foreground="{ThemeResource Rarity3ForegroundBrush}">
                        <Run Text="3★" />
                        <Run Text="{x:Bind lang:Lang.GachaStatsCard_Stats}" />
                    </TextBlock>
                    <TextBlock Grid.Row="5"
                               HorizontalAlignment="Right"
                               Foreground="{ThemeResource Rarity3ForegroundBrush}"
                               HorizontalTextAlignment="Left">
                        <Run Text="{x:Bind GachaStatsType1000.Count_3}" />
                        <Run Text="[" /><Run Text="{x:Bind GachaStatsType1000.Ratio_3.ToString('P2', x:Null)}" /><Run Text="]" />
                    </TextBlock>

                    <!--  2★ 统计  -->
                    <TextBlock Grid.Row="6" Foreground="{ThemeResource Rarity2ForegroundBrush}">
                        <Run Text="2★" />
                        <Run Text="{x:Bind lang:Lang.GachaStatsCard_Stats}" />
                    </TextBlock>
                    <TextBlock Grid.Row="6"
                               HorizontalAlignment="Right"
                               Foreground="{ThemeResource Rarity2ForegroundBrush}"
                               HorizontalTextAlignment="Left">
                        <Run Text="{x:Bind GachaStatsType1000.Count_2}" />
                        <Run Text="[" /><Run Text="{x:Bind GachaStatsType1000.Ratio_2.ToString('P2', x:Null)}" /><Run Text="]" />
                    </TextBlock>

                    <MenuFlyoutSeparator Grid.Row="7" Visibility="Collapsed" />

                    <Pivot Grid.Row="8" SelectedIndex="{x:Bind Segmented_GachaItemList1000.SelectedIndex, Mode=TwoWay}">
                        <Pivot.Resources>
                            <Thickness x:Key="PivotItemMargin">0,0,0,0</Thickness>
                            <Thickness x:Key="PivotHeaderItemMargin">12,0,12,0</Thickness>
                            <Style BasedOn="{StaticResource DefaultPivotHeaderItemStyle}" TargetType="PivotHeaderItem">
                                <Setter Property="Height" Value="36" />
                            </Style>
                        </Pivot.Resources>
                        <PivotItem>
                            <ItemsRepeater ItemsSource="{x:Bind GachaStatsType1000.List_4}">
                                <ItemsRepeater.ItemTemplate>
                                    <DataTemplate x:DataType="local:GenshinBeyondGachaItemEx">
                                        <Grid Name="Grid_Rarity5Item"
                                              Height="28"
                                              Background="Transparent"
                                              Tag="{x:Bind}"
                                              ToolTipService.ToolTip="{x:Bind Time.ToString('yyyy-MM-dd HH:mm:ss', x:Null)}">
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition />
                                                <ColumnDefinition Width="24" />
                                            </Grid.ColumnDefinitions>
                                            <Border Height="24"
                                                    VerticalAlignment="Center"
                                                    Background="{x:Bind Converter={StaticResource GenshinBeyondGachaPityProgressBackgroundBrushConverter}}" />
                                            <TextBlock Grid.Column="0"
                                                       Margin="4,0,4,0"
                                                       VerticalAlignment="Center"
                                                       Text="{x:Bind ItemName}"
                                                       TextTrimming="CharacterEllipsis" />
                                            <TextBlock Grid.Column="1"
                                                       HorizontalAlignment="Right"
                                                       VerticalAlignment="Center"
                                                       IsTextScaleFactorEnabled="False"
                                                       Text="{x:Bind Pity}" />
                                        </Grid>
                                    </DataTemplate>
                                </ItemsRepeater.ItemTemplate>
                            </ItemsRepeater>
                        </PivotItem>
                        <PivotItem>
                            <ItemsRepeater ItemsSource="{x:Bind GachaStatsType1000.List_3}">
                                <ItemsRepeater.ItemTemplate>
                                    <DataTemplate x:DataType="local:GenshinBeyondGachaItemEx">
                                        <Grid Name="Grid_Rarity4Item"
                                              Height="28"
                                              Background="Transparent"
                                              ColumnSpacing="8"
                                              Tag="{x:Bind}"
                                              ToolTipService.ToolTip="{x:Bind Time.ToString('yyyy-MM-dd HH:mm:ss', x:Null)}">
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition />
                                                <ColumnDefinition Width="24" />
                                            </Grid.ColumnDefinitions>
                                            <TextBlock Grid.Column="0"
                                                       Margin="4,0,4,0"
                                                       VerticalAlignment="Center"
                                                       Text="{x:Bind ItemName}"
                                                       TextTrimming="CharacterEllipsis" />
                                            <TextBlock Grid.Column="1"
                                                       HorizontalAlignment="Right"
                                                       VerticalAlignment="Center"
                                                       Text="{x:Bind Pity}" />
                                        </Grid>
                                    </DataTemplate>
                                </ItemsRepeater.ItemTemplate>
                            </ItemsRepeater>

                        </PivotItem>
                    </Pivot>

                    <cwc:Segmented x:Name="Segmented_GachaItemList1000"
                                   Grid.Row="8"
                                   HorizontalAlignment="Stretch"
                                   VerticalAlignment="Top"
                                   SelectedIndex="0">
                        <cwc:SegmentedItem>
                            <TextBlock Foreground="{ThemeResource Rarity4ForegroundBrush}" Text="4★" />
                        </cwc:SegmentedItem>
                        <cwc:SegmentedItem>
                            <TextBlock Foreground="{ThemeResource Rarity3ForegroundBrush}" Text="3★" />
                        </cwc:SegmentedItem>
                    </cwc:Segmented>


                </Grid>


                <!--  活动颂愿  -->
                <Grid Grid.Column="1"
                      Padding="12,8,12,8"
                      Background="{ThemeResource CustomOverlayAcrylicBrush}"
                      CornerRadius="8"
                      RowSpacing="4"
                      Shadow="{ThemeResource ThemeShadow}"
                      Translation="0,0,16"
                      Visibility="{x:Bind GachaStatsType2000, Converter={StaticResource ObjectToVisibilityConverter}}">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto" />
                        <RowDefinition Height="Auto" />
                        <RowDefinition Height="Auto" />
                        <RowDefinition Height="Auto" />
                        <RowDefinition Height="Auto" />
                        <RowDefinition Height="Auto" />
                        <RowDefinition Height="Auto" />
                        <RowDefinition Height="Auto" />
                        <RowDefinition />
                    </Grid.RowDefinitions>

                    <Grid Grid.Row="0" ColumnSpacing="8">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition />
                            <ColumnDefinition Width="Auto" />
                        </Grid.ColumnDefinitions>
                        <TextBlock FontSize="16"
                                   Foreground="{ThemeResource TextFillColorSecondaryBrush}"
                                   Text="{x:Bind GachaStatsType2000.GachaTypeText}"
                                   TextTrimming="CharacterEllipsis" />
                        <TextBlock Grid.Column="1"
                                   FontSize="16"
                                   Foreground="{ThemeResource TextFillColorSecondaryBrush}"
                                   Text="{x:Bind GachaStatsType2000.Count}" />
                    </Grid>


                    <TextBlock Grid.Row="1"
                               FontSize="12"
                               Foreground="{ThemeResource TextFillColorSecondaryBrush}"
                               TextTrimming="CharacterEllipsis">
                        <Run Text="{x:Bind GachaStatsType2000.StartTime.ToString('yyyy/MM/dd HH:mm:ss', x:Null)}" />
                        <Run Text="-" />
                        <Run Text="{x:Bind GachaStatsType2000.EndTime.ToString('yyyy/MM/dd HH:mm:ss', x:Null)}" />
                    </TextBlock>

                    <MenuFlyoutSeparator Grid.Row="2" />

                    <!--  5★ 平均  -->
                    <TextBlock Grid.Row="3" Foreground="{ThemeResource Rarity5ForegroundBrush}">
                        <Run Text="5★" />
                        <Run Text="{x:Bind lang:Lang.GachaStatsCard_Average}" />
                    </TextBlock>
                    <TextBlock Grid.Row="3"
                               HorizontalAlignment="Right"
                               Foreground="{ThemeResource Rarity5ForegroundBrush}">
                        <Run Text="{x:Bind GachaStatsType2000.Average_5.ToString('F2', x:Null)}" />
                    </TextBlock>

                    <!--  5★ 统计  -->
                    <TextBlock Grid.Row="4" Foreground="{ThemeResource Rarity5ForegroundBrush}">
                        <Run Text="5★" />
                        <Run Text="{x:Bind lang:Lang.GachaStatsCard_Stats}" />
                    </TextBlock>
                    <TextBlock Grid.Row="4"
                               HorizontalAlignment="Right"
                               Foreground="{ThemeResource Rarity5ForegroundBrush}"
                               HorizontalTextAlignment="Left">
                        <Run Text="{x:Bind GachaStatsType2000.Count_5}" />
                        <Run Text="[" /><Run Text="{x:Bind GachaStatsType2000.Ratio_5.ToString('P2', x:Null)}" /><Run Text="]" />
                    </TextBlock>

                    <!--  4★ 统计  -->
                    <TextBlock Grid.Row="5" Foreground="{ThemeResource Rarity4ForegroundBrush}">
                        <Run Text="4★" />
                        <Run Text="{x:Bind lang:Lang.GachaStatsCard_Stats}" />
                    </TextBlock>
                    <TextBlock Grid.Row="5"
                               HorizontalAlignment="Right"
                               Foreground="{ThemeResource Rarity4ForegroundBrush}"
                               HorizontalTextAlignment="Left">
                        <Run Text="{x:Bind GachaStatsType2000.Count_4}" />
                        <Run Text="[" /><Run Text="{x:Bind GachaStatsType2000.Ratio_4.ToString('P2', x:Null)}" /><Run Text="]" />
                    </TextBlock>

                    <!--  3★ 统计  -->
                    <TextBlock Grid.Row="6" Foreground="{ThemeResource Rarity3ForegroundBrush}">
                        <Run Text="3★" />
                        <Run Text="{x:Bind lang:Lang.GachaStatsCard_Stats}" />
                    </TextBlock>
                    <TextBlock Grid.Row="6"
                               HorizontalAlignment="Right"
                               Foreground="{ThemeResource Rarity3ForegroundBrush}"
                               HorizontalTextAlignment="Left">
                        <Run Text="{x:Bind GachaStatsType2000.Count_3}" />
                        <Run Text="[" /><Run Text="{x:Bind GachaStatsType2000.Ratio_3.ToString('P2', x:Null)}" /><Run Text="]" />
                    </TextBlock>

                    <MenuFlyoutSeparator Grid.Row="7" Visibility="Collapsed" />

                    <Pivot Grid.Row="8" SelectedIndex="{x:Bind Segmented_GachaItemList2000.SelectedIndex, Mode=TwoWay}">
                        <Pivot.Resources>
                            <Thickness x:Key="PivotItemMargin">0,0,0,0</Thickness>
                            <Thickness x:Key="PivotHeaderItemMargin">12,0,12,0</Thickness>
                            <Style BasedOn="{StaticResource DefaultPivotHeaderItemStyle}" TargetType="PivotHeaderItem">
                                <Setter Property="Height" Value="36" />
                            </Style>
                        </Pivot.Resources>
                        <PivotItem>
                            <ItemsRepeater ItemsSource="{x:Bind GachaStatsType2000.List_5}">
                                <ItemsRepeater.ItemTemplate>
                                    <DataTemplate x:DataType="local:GenshinBeyondGachaItemEx">
                                        <Grid Name="Grid_Rarity5Item"
                                              Height="28"
                                              Background="Transparent"
                                              Tag="{x:Bind}"
                                              ToolTipService.ToolTip="{x:Bind Time.ToString('yyyy-MM-dd HH:mm:ss', x:Null)}">
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition />
                                                <ColumnDefinition Width="24" />
                                            </Grid.ColumnDefinitions>
                                            <Border Height="24"
                                                    VerticalAlignment="Center"
                                                    Background="{x:Bind Converter={StaticResource GenshinBeyondGachaPityProgressBackgroundBrushConverter}}" />
                                            <TextBlock Grid.Column="0"
                                                       Margin="4,0,4,0"
                                                       VerticalAlignment="Center"
                                                       Text="{x:Bind ItemName}"
                                                       TextTrimming="CharacterEllipsis" />
                                            <TextBlock Grid.Column="1"
                                                       HorizontalAlignment="Right"
                                                       VerticalAlignment="Center"
                                                       IsTextScaleFactorEnabled="False"
                                                       Text="{x:Bind Pity}" />
                                        </Grid>
                                    </DataTemplate>
                                </ItemsRepeater.ItemTemplate>
                            </ItemsRepeater>
                        </PivotItem>
                        <PivotItem>
                            <ItemsRepeater ItemsSource="{x:Bind GachaStatsType2000.List_4}">
                                <ItemsRepeater.ItemTemplate>
                                    <DataTemplate x:DataType="local:GenshinBeyondGachaItemEx">
                                        <Grid Name="Grid_Rarity4Item"
                                              Height="28"
                                              Background="Transparent"
                                              ColumnSpacing="8"
                                              Tag="{x:Bind}"
                                              ToolTipService.ToolTip="{x:Bind Time.ToString('yyyy-MM-dd HH:mm:ss', x:Null)}">
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition />
                                                <ColumnDefinition Width="24" />
                                            </Grid.ColumnDefinitions>
                                            <TextBlock Grid.Column="0"
                                                       Margin="4,0,4,0"
                                                       VerticalAlignment="Center"
                                                       Text="{x:Bind ItemName}"
                                                       TextTrimming="CharacterEllipsis" />
                                            <TextBlock Grid.Column="1"
                                                       HorizontalAlignment="Right"
                                                       VerticalAlignment="Center"
                                                       Text="{x:Bind Pity}" />
                                        </Grid>
                                    </DataTemplate>
                                </ItemsRepeater.ItemTemplate>
                            </ItemsRepeater>

                        </PivotItem>
                    </Pivot>

                    <cwc:Segmented x:Name="Segmented_GachaItemList2000"
                                   Grid.Row="8"
                                   HorizontalAlignment="Stretch"
                                   VerticalAlignment="Top"
                                   SelectedIndex="0">
                        <cwc:SegmentedItem>
                            <TextBlock Foreground="{ThemeResource Rarity5ForegroundBrush}" Text="5★" />
                        </cwc:SegmentedItem>
                        <cwc:SegmentedItem>
                            <TextBlock Foreground="{ThemeResource Rarity4ForegroundBrush}" Text="4★" />
                        </cwc:SegmentedItem>
                    </cwc:Segmented>


                </Grid>


            </Grid>

        </ScrollViewer>


    </Grid>


</sf:PageBase>
